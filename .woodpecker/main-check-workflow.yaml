when:
  - event: [push, pull_request]
    branch: main

steps:
  - name: cargo check
    image: nixos/nix
    commands:
      - nix-shell shell-minimal.nix --command "cargo check"
