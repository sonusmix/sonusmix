when:
  - event: push
    branch: main

steps:
  - name: svelte and cargo check
    image: nixos/nix
    commands:
      - nix-channel --update
      - nix-shell --command "npm run check && cd src-tauri && cargo check"
